{"version":3,"file":"main.js","mappings":"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","sources":["webpack://se_project_spots/./src/utils/Api.js","webpack://se_project_spots/./src/scripts/validation.js","webpack://se_project_spots/./src/pages/index.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return res.json().then((err) => {\n      throw new Error(`Error ${res.status}: ${err.message || res.statusText}`);\n    });\n  }\n\n  _handleError(error) {\n    console.error(\"API Request Failed:\", error);\n    return Promise.reject(error);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, { headers: this._headers })\n      .then(this._checkResponse)\n      .catch(this._handleError);\n  }\n\n  updateUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ name, about }),\n    })\n      .then(this._checkResponse)\n      .catch((error) => console.error(\"Error updating profile:\", error));\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, { headers: this._headers })\n      .then(this._checkResponse)\n      .catch(this._handleError);\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ name, link }),\n    })\n      .then(this._checkResponse)\n      .catch((error) => console.error(\"Error adding new card:\", error));\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((error) => console.error(\"Error deleting card:\", error));\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((error) => console.error(\"Error liking card:\", error));\n  }\n\n  unlikeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch((error) => console.error(\"Error unliking card:\", error));\n  }\n\n  getAppData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()])\n      .then(([userData, cards]) => {\n        if (!userData || userData.name === \"Placeholder name\") {\n          console.warn(\"Warning: API is returning placeholder data!\");\n        }\n        return { userData, cards };\n      })\n      .catch(this._handleError);\n  }\n}\n\nexport default Api;\n","export const settings = {\n  formSelector: \".modal__form\",\n  inputSelector: \".modal__input\",\n  submitButtonSelector: \".modal__submit-btn\",\n  inactiveButtonClass: \"modal__submit-btn_disabled\",\n  inputErrorClass: \"modal__input_type_error\",\n  errorClass: \"modal__error_visible\",\n};\n\n// Define validation configuration separately\nexport const validationconfig = {\n  allowEmptyFields: false,\n  validateOnBlur: true,\n  errorMessages: {\n    required: \"This field is required.\",\n    invalidFormat: \"Invalid format.\",\n  },\n};\n\nexport function getErrorElement(inputElement) {\n  return document.querySelector(`#${inputElement.id}-error`);\n}\n\nexport function showInputError(\n  formElement,\n  inputElement,\n  errorMessage,\n  config\n) {\n  const errorElement = getErrorElement(inputElement);\n  if (!errorElement) {\n    console.error(`Error: No error element found for ${inputElement.id}`);\n    return;\n  }\n  inputElement.classList.add(config.inputErrorClass);\n  errorElement.textContent = errorMessage;\n  errorElement.classList.add(config.errorClass);\n  errorElement.setAttribute(\"aria-live\", \"assertive\");\n}\n\nexport function hideInputError(formElement, inputElement, config) {\n  const errorElement = getErrorElement(inputElement);\n  if (!errorElement) return;\n  inputElement.classList.remove(config.inputErrorClass);\n  errorElement.classList.remove(config.errorClass);\n  errorElement.textContent = \"\";\n  errorElement.removeAttribute(\"aria-live\");\n}\n\nexport function checkInputValidity(formElement, inputElement, config) {\n  if (!inputElement.validity.valid) {\n    showInputError(\n      formElement,\n      inputElement,\n      inputElement.validationMessage,\n      config\n    );\n  } else {\n    hideInputError(formElement, inputElement, config);\n  }\n}\n\nexport function debounce(func, delay = 300) {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), delay);\n  };\n}\n\nexport function setEventListeners(formElement, config) {\n  if (!formElement) {\n    console.error(\n      \"Error: formElement is undefined, cannot set event listeners.\"\n    );\n    return;\n  }\n  const inputList = Array.from(\n    formElement.querySelectorAll(config.inputSelector)\n  );\n  const buttonElement = formElement.querySelector(config.submitButtonSelector);\n\n  inputList.forEach((inputElement) => {\n    inputElement.addEventListener(\n      \"input\",\n      debounce(() => {\n        checkInputValidity(formElement, inputElement, config);\n        toggleButtonState(inputList, buttonElement, config);\n      })\n    );\n  });\n}\n\nexport function toggleButtonState(inputList, buttonElement, config) {\n  const isFormInvalid = inputList.some((input) => !input.validity.valid);\n  if (!buttonElement) {\n    console.error(\n      \"Error: buttonElement is undefined, cannot toggle button state.\"\n    );\n    return;\n  }\n  buttonElement.classList.toggle(config.inactiveButtonClass, isFormInvalid);\n  buttonElement.disabled = isFormInvalid;\n}\n\nexport function resetForm(formElement, config) {\n  if (!formElement) {\n    console.error(\"Error: resetForm called with undefined formElement.\");\n    return;\n  }\n  formElement.reset();\n  const inputList = Array.from(\n    formElement.querySelectorAll(config.inputSelector)\n  );\n  const buttonElement = formElement.querySelector(config.submitButtonSelector);\n\n  inputList.forEach((inputElement) =>\n    hideInputError(formElement, inputElement, config)\n  );\n  if (buttonElement) {\n    buttonElement.classList.add(config.inactiveButtonClass);\n    buttonElement.disabled = true;\n  } else {\n    console.error(\"Error: buttonElement not found during form reset.\");\n  }\n}\n\nexport function displayErrorsOnSubmit(formElement, config) {\n  if (!formElement) {\n    console.error(\n      \"Error: displayErrorsOnSubmit called with undefined formElement.\"\n    );\n    return;\n  }\n  const inputList = Array.from(\n    formElement.querySelectorAll(config.inputSelector)\n  );\n  inputList.forEach((inputElement) =>\n    checkInputValidity(formElement, inputElement, config)\n  );\n}\n\nexport function enableValidation(config) {\n  const formList = Array.from(document.querySelectorAll(config.formSelector));\n  formList.forEach((formElement) => {\n    setEventListeners(formElement, config);\n    formElement.addEventListener(\"submit\", (event) => {\n      event.preventDefault();\n      displayErrorsOnSubmit(formElement, config);\n      if (formElement.checkValidity()) {\n        console.log(\"Form submitted successfully!\");\n      }\n    });\n  });\n}\n","import \"./index.css\";\nimport \"../vendor/normalize.css\";\nimport Api from \"../utils/Api.js\";\nimport {\n  enableValidation,\n  settings,\n  resetForm,\n  toggleButtonState,\n} from \"../scripts/validation.js\";\n\nconst api = new Api({\n  baseUrl: \"https://around-api.en.tripleten-services.com/v1\",\n  headers: {\n    authorization: \"402df489-8b33-4cc5-a119-272d843e9751\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nconst profileName = document.querySelector(\".profile__name-first\");\nconst profileDescription = document.querySelector(\n  \".profile__description-first\"\n);\nconst profileAvatar = document.querySelector(\".profile__avatar\");\nconst inputProfileName = document.querySelector(\"#profile-name-input\");\nconst inputProfileDescription = document.querySelector(\n  \"#profile-description-input\"\n);\nconst profileEditButton = document.querySelector(\".profile__edit-btn\");\nconst profileEditModal = document.querySelector(\"#edit-modal\");\nconst profileForm = document.forms[\"profile-form\"];\nconst cardsContainer = document.querySelector(\".cards__list\");\nconst cardTemplate = document.querySelector(\"#card-template\").content;\nconst addCardModal = document.querySelector(\"#add-card-modal\");\nconst addCardForm = document.forms[\"add-card-form\"];\nconst inputCardImageLink = document.querySelector(\"#profile-image-link\");\nconst inputCardCaption = document.querySelector(\"#profile-caption-input\");\nconst openAddCardModalButton = document.querySelector(\".profile__add-btn\");\nconst deleteCardModal = document.querySelector(\"#delete-card-modal\");\nconst confirmDeleteButton = document.querySelector(\"#confirm-delete-btn\");\nconst deletePicModal = document.querySelector(\"#delete-pic-modal\");\nconst confirmDeletePicButton = document.querySelector(\n  \"#confirm-delete-pic-btn\"\n);\nconst closeModalButtons = document.querySelectorAll(\".modal__close-btn\");\n\nlet cardToDelete = null;\nlet picToDelete = null;\n\nconsole.log(\"Profile Name Before API:\", profileName?.textContent);\nconsole.log(\"Profile Description Before API:\", profileDescription?.textContent);\nconsole.log(\"Profile Avatar Before API:\", profileAvatar?.src);\n\napi\n  .getAppData()\n  .then(({ userData, cards }) => {\n    console.log(\"API User Data:\", userData);\n    console.log(\"API Cards Data:\", cards);\n\n    if (userData && userData.name !== \"Placeholder name\") {\n      profileName.textContent = userData.name;\n      profileDescription.textContent = userData.about;\n      profileAvatar.src = userData.avatar;\n      profileAvatar.alt = `Avatar of ${userData.name || \"User\"}`;\n    } else {\n      console.warn(\n        \"Warning: API returned placeholder data. Profile not updated.\"\n      );\n    }\n\n    renderInitialCards(cards);\n  })\n  .catch(console.error);\n\nfunction renderInitialCards(cards) {\n  cards.forEach(renderCard);\n}\n\nfunction renderCard(data) {\n  if (!data.name || !data.link) return;\n  const cardElement = createCardElement(data);\n  cardsContainer.prepend(cardElement);\n}\n\nfunction createCardElement(data) {\n  const cardElement = cardTemplate.cloneNode(true).firstElementChild;\n  const cardTitle = cardElement.querySelector(\".card__title\");\n  const cardImage = cardElement.querySelector(\".card__img\");\n  const deleteButton = cardElement.querySelector(\".card__delete-button\");\n\n  cardTitle.textContent = data.name;\n  cardImage.src = data.link;\n  cardImage.alt = data.name;\n\n  deleteButton.addEventListener(\"click\", () =>\n    openDeleteModal(cardElement, data._id)\n  );\n\n  return cardElement;\n}\n\nfunction openDeleteModal(cardElement, cardId) {\n  if (!deleteCardModal) {\n    console.error(\"Error: Delete card modal not found!\");\n    return;\n  }\n\n  cardToDelete = { element: cardElement, id: cardId };\n  openModal(deleteCardModal);\n}\n\nconfirmDeleteButton.addEventListener(\"click\", () => {\n  if (!cardToDelete) return;\n\n  api\n    .deleteCard(cardToDelete.id)\n    .then(() => {\n      cardToDelete.element.remove();\n      closeModal(deleteCardModal);\n    })\n    .catch(console.error);\n});\n\nfunction openDeletePicModal(picElement, picId) {\n  if (!deletePicModal) {\n    console.error(\"Error: Delete picture modal not found!\");\n    return;\n  }\n\n  picToDelete = { element: picElement, id: picId };\n  openModal(deletePicModal);\n}\n\nconfirmDeletePicButton.addEventListener(\"click\", () => {\n  if (!picToDelete) return;\n\n  picToDelete.element.remove();\n  closeModal(deletePicModal);\n});\n\nfunction openModal(modal) {\n  modal.classList.add(\"modal_opened\");\n  document.addEventListener(\"keydown\", handleEscapeKey);\n}\n\nfunction closeModal(modal) {\n  modal.classList.remove(\"modal_opened\");\n  document.removeEventListener(\"keydown\", handleEscapeKey);\n}\n\nfunction handleEscapeKey(event) {\n  if (event.key === \"Escape\") {\n    const openModal = document.querySelector(\".modal_opened\");\n    if (openModal) closeModal(openModal);\n  }\n}\n\ncloseModalButtons.forEach((button) => {\n  const modal = button.closest(\".modal\");\n  button.addEventListener(\"click\", () => closeModal(modal));\n});\n\nprofileEditButton.addEventListener(\"click\", () => {\n  resetForm(profileForm, settings);\n  inputProfileName.value = profileName.textContent.trim();\n  inputProfileDescription.value = profileDescription.textContent.trim();\n  openModal(profileEditModal);\n});\n\nprofileForm.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const updatedName = inputProfileName.value.trim();\n  const updatedDescription = inputProfileDescription.value.trim();\n\n  api\n    .updateUserInfo({ name: updatedName, about: updatedDescription })\n    .then((updatedUserData) => {\n      profileName.textContent = updatedUserData.name;\n      profileDescription.textContent = updatedUserData.about;\n      closeModal(profileEditModal);\n    })\n    .catch(console.error);\n});\n\naddCardForm.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const newCardName = inputCardCaption.value.trim();\n  const newCardLink = inputCardImageLink.value.trim();\n\n  api\n    .addNewCard({ name: newCardName, link: newCardLink })\n    .then((newCard) => {\n      renderCard(newCard);\n      addCardForm.reset();\n      closeModal(addCardModal);\n    })\n    .catch(console.error);\n});\n\nopenAddCardModalButton.addEventListener(\"click\", () => openModal(addCardModal));\n\nenableValidation(settings);\n"],"names":["settings","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","getErrorElement","inputElement","document","querySelector","id","hideInputError","formElement","config","errorElement","classList","remove","textContent","removeAttribute","checkInputValidity","validity","valid","errorMessage","add","setAttribute","console","error","showInputError","validationMessage","api","constructor","_ref","baseUrl","headers","this","_baseUrl","_headers","_checkResponse","res","ok","json","then","err","Error","status","message","statusText","_handleError","Promise","reject","getUserInfo","fetch","catch","updateUserInfo","_ref2","name","about","method","body","JSON","stringify","getInitialCards","addNewCard","_ref3","link","removeCard","cardId","likeCard","unlikeCard","getAppData","all","_ref4","userData","cards","warn","authorization","profileName","profileDescription","profileAvatar","inputProfileName","inputProfileDescription","profileEditButton","profileEditModal","profileForm","forms","cardsContainer","cardTemplate","content","addCardModal","addCardForm","inputCardImageLink","inputCardCaption","openAddCardModalButton","deleteCardModal","confirmDeleteButton","confirmDeletePicButton","closeModalButtons","querySelectorAll","cardToDelete","renderCard","data","cardElement","cloneNode","firstElementChild","cardTitle","cardImage","deleteButton","src","alt","addEventListener","element","openModal","openDeleteModal","_id","createCardElement","prepend","modal","handleEscapeKey","closeModal","removeEventListener","event","key","log","avatar","forEach","renderInitialCards","deleteCard","button","closest","reset","inputList","Array","from","buttonElement","disabled","resetForm","value","trim","preventDefault","updatedName","updatedDescription","updatedUserData","newCardName","newCardLink","newCard","func","timeout","delay","arguments","length","undefined","_len","args","_key","clearTimeout","setTimeout","debounce","isFormInvalid","some","input","toggle","toggleButtonState","setEventListeners","displayErrorsOnSubmit","checkValidity"],"sourceRoot":""}